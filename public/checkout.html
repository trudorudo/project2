<!DOCTYPE html>
<html>

<head>
    <title>Welcome to Fast Resataurant</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=B612+Mono&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Montserrat+Alternates&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">
    <link rel="stylesheet" type="text/css" href="assets/css/materialize.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

    <style>
        @media screen and (min-width: 500px) {
            #mylogo {
                margin-left: -4rem;
            }
        }
    </style>
</head>

<body>
    <ul id="slide-out" class="sidenav">
        <li>
            <div class="user-view">
                <h6 class="title">Please Complete Checkout To Process Order</h6>
            </div>
        </li>
        <li>
            <div class="divider"></div>
        </li>
        <div class="container">
            <div class="col s7 container content-section cart-container-side">
                <h5 class="section-header" style="font-family: 'B612 Mono', monospace;">Your Order:</h5>
                <div class="cart-row">
                </div>

                <div class="cart-items">
                </div>
                <div class="cart-total">
                    <strong class="cart-total-title" style="font-family: 'B612 Mono', monospace;">Your Total: </strong>
                    <span class="cart-total-price" style="font-family: 'B612 Mono', monospace;">$0</span>
                    <br>
                    <br>
                    <button class="btn-purchase  modal-trigger" href="#modal1" type="button"
                        style="font-family: 'B612 Mono', monospace;    width: 100%;color: green;  font-size: 1.4rem;">Checkout</button>
                </div>

            </div>
        </div>

        <!-- Modal Structure -->
        <div id="modal1" class="modal">
            <div class="modal-content">

                <li id="paypall-form"></li>
            </div>

        </div>

        <br>

    </ul>
    <a name="top"></a>
    <nav class="header-nav" style=" position: sticky; top: 0; z-index: 10000;">
        <div class="nav-wrapper ">
            <a href="https://jakal.herokuapp.com" class="brand-logo" id="mylogo"><img
                    src="https://i.imgur.com/xSbQ2wU.png" style="width:44px; height:47px;margin-left: 6rem;"
                    title="Jackal" alt="Jakal"></a>

            <a href="#" data-target="slide-out" class="sidenav-trigger"
                style="display:block; float:right;  position: sticky;"><i class="material-icons"
                    style="font-size: 3rem; color:red; right: 4rem; margin-right: 3rem;">shopping_cart</i></a>

            <a class='dropdown-trigger btn-flat avatar' href='#' data-target='dropdown1'
                style="display:block; float:right; width:15%">
                <div class="collection-item avatar"> <i href="#" class="material-icons"
                        style="color: grey; font-size: 3rem;float: right">person_outline</i></div>
            </a>

    </nav>

    <!-- <a href="#" data-target="slide-out" class="sidenav-trigger"
        style="display:block; float:right;  position: sticky;top: 0;"><i class="material-icons"
            style="font-size: 4rem; color:red;float: right;  position: sticky;top: 0; right: 4rem;">shopping_cart</i></a> -->

    <ul id='dropdown1' class='dropdown-content'>
        <img src="https://news.usc.edu/files/2017/03/Will-Ferrell-Step-Brothers_Horizontal_web-824x549.jpg"
            style="width:100%;">
        <li><a href="#!" style="color: #c62828"><i class="material-icons" style="color: #c62828 "></i>Will Ferrell</a>
        </li>
        <li><a href="#!" style="color: #c62828"><i class="material-icons"
                    style="color: #c62828"></i>Ron@stayclassy.com</a></li>
        <li class="divider" tabindex="-1"></li>
        <li><a href="#!" style="color: #c62828"><i class="material-icons"
                    style="color: #c62828">person_outline</i>Profile</a></li>
        <li><a href="#!" style="color: #c62828"><i class="material-icons" style="color: #c62828">attach_money</i>Payment
                Options</a></li>
        <li class="divider" tabindex="-1"></li>
        <li><a href="#!" style="color: #c62828"><i class="material-icons" style="color: #c62828">event_note</i>Order
                History</a></li>
        <li><a href="#!" style="color: #c62828"><i class="material-icons"
                    style="color: #c62828">star_border</i>Favorites</a></li>
        <li class="divider" tabindex="-1"></li>
        <li><a href="#!" style="color: #c62828"><i class="material-icons"
                    style="color: #c62828">phone_android</i>Contact Us</a></li>
        <li><a href="#!" style="color: #c62828"><i class="material-icons" style="color: #c62828">vpn_key</i>Log Out</a>
        </li>
    </ul>

    <ul id="slide-out" class="sidenav">
        <li>
            <div class="user-view">
                <h6 class="title">Please Complete Checkout To Process Order</h6>
            </div>
        </li>
        <li>
            <div class="divider"></div>
        </li>
        <div class="container">
            <div class="col s7 container content-section cart-container-side">
                <h5 class="section-header" style="font-family: 'B612 Mono', monospace;">Your Order:</h5>
                <div class="cart-row">
                </div>

                <div class="cart-items">
                </div>
                <div class="cart-total">
                    <strong class="cart-total-title" style="font-family: 'B612 Mono', monospace;">Your Total: </strong>
                    <span class="cart-total-price" style="font-family: 'B612 Mono', monospace;">$0</span>
                    <br>
                    <br>
                    <button class="btn-purchase  modal-trigger" href="#modal1" type="button"
                        style="font-family: 'B612 Mono', monospace;    width: 100%;color: green;  font-size: 1.4rem;">Checkout</button>
                </div>

            </div>
        </div>

        <!-- Modal Structure -->
        <div id="modal1" class="modal">
            <div class="modal-content">

                <li id="paypall-form"></li>
            </div>

        </div>

        <br>

    </ul>

    <div class="container">
        <div class='row'>
            <div class="col s12 m12 l12 items-container">
                <div class='row restaurant-row'>
                    <h1 class="title" id="page-title"></h1>
                    <div class="col s10 m8">
                        <img style="width: 80%; padding-left: 7rem;" src="#" id="rest-img" />
                    </div>
                    <div class="col s10 m4 restaurantInfo">
                        <p class="address address" style="font-family: 'B612 Mono', monospace;"></p>
                        <p class="phone address" style="font-family: 'B612 Mono', monospace;"></p>
                        <p class="email address" style="font-family: 'B612 Mono', monospace;"></p>
                    </div>
                </div>
                <hr>

                <!-- <div class="row"> -->
                <div class="col s10 l5">
                    <i class="small material-icons fav">star_border</i>
                    <a href="#" class="favorite">Add To Favorites </a>
                </div>



                <div class="col s10 l7">

                    <a href="#Appetizer's" class="title anchor">Appetizer's</a>
                    <a>|</a>
                    <a href="#Entree's" class="title anchor">Entree's</a>
                    <a>|</a>
                    <a href="#Sides" class="title anchor">Sides</a>
                    <a>|</a>
                    <a href="#Desserts" class="title anchor">Desserts</a>
                    <a>|</a>
                    <a href="#Beverages" class="title anchor">Beverages</a>

                </div>
                <!-- </div> -->
                <br>
                <br>
                <br>

                <div class='row row-items categoryRow'>
                    <!-- style="padding-left: 6rem;" -->
                    <div class=' appetizer category'>
                        <a name="Appetizers"></a>
                        <h3 class="cath3">Appetizers</h3>
                        <div class="row" id="appetizer-items">
                            </ul>
                        </div>
                        <div class='  entree category'>
                            <a name="Entree's"></a>
                            <h3 class="cath3">Entree's</h3>
                            <div class="row" id="entree-items"></div>
                        </div>
                        <div class='sides category'>
                            <a name="Sides"></a>
                            <h3 class="cath3">Sides</h3>
                            <div class="row" id="sides-items"></div>
                        </div>
                        <div class='   desserts category'>
                            <a name="Desserts"></a>
                            <h3 class="cath3">Desserts</h3>
                            <div class="row" id="dessert-items"></div>
                        </div>
                        <div class='   beverages category'>
                            <a name="Beverages"></a>
                            <h3 class="cath3">Beverages</h3>
                            <div class="row" id="beverages-items"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="bottomAnchor">
                <a href="#page-title" class="anchor title">Top</a>
            </div>
        </div>

    </div>
    <footer class="page-footer">
        <div class="container">
            <div class="row">
                <div class="col l6 s12">
                    <h5 class="white-text">Contact US</h5>
                    <p class="grey-text text-lighten-4">+1 (908) 1234</p>
                    <p class="grey-text text-lighten-4">jacal@fastrest.com</p>
                    <p class="grey-text text-lighten-4">Jersey City, Grand St. 3,647</p>
                </div>
                <div class="col l4 offset-l2 s12">
                    <h5 class="white-text">Links</h5>
                    <ul>
                        <li><a class="grey-text text-lighten-3" href="#!">About Us</a></li>
                        <li><a class="grey-text text-lighten-3" href="#!">FAQ</a></li>
                        <li><a class="grey-text text-lighten-3" href="#!">Investor Relations</a></li>
                        <li><a class="grey-text text-lighten-3" href="#!">Careers</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="footer-copyright">
            <div class="container">
                © 2019 JAKAL All rights reserved.

            </div>
        </div>
    </footer>
</body>
<script src="https://www.paypal.com/sdk/js?client-id=sb"></script>
<script>paypal.Buttons().render('#paypall-form');</script>
<script type="text/javascript">
    $(document).ready(function () {

        $('.sidenav').sidenav();
        $('.modal').modal();
        $('.dropdown-trigger').dropdown();
    });

    const restaurantId =
        window.location.search.split('=')[1];
    if (restaurantId) {

        fetch(`/api/restaurants/${restaurantId}`).then(res => res.json()).then(restaurant => {
            document.querySelector('#page-title').innerHTML = restaurant.restaurant_name;
            document.querySelector('.address').innerHTML = restaurant.location;
            document.querySelector('.phone').innerHTML = restaurant.phone_number;
            document.querySelector('.email').innerHTML = restaurant.email;
            document.getElementById("rest-img").src = restaurant.image_url;
            fetch(`/api/restaurants/${restaurantId}/menu-items`).then(res => res.json()).then(items => {
                console.log('restaurant items', items);
                const ul = document.querySelector('#items');
                items.forEach(item => {
                    // console.log("item-cat" + item.category);
                    switch (item.category) {
                        case "appetizer's":
                            const ul = document.querySelector('#appetizer-items');
                            const li = document.createElement('div');
                            li.className += "col s10 m4"
                            li.innerHTML = `    
                        <div class="card card-full">
                        <div class="card-image">
                        <img class='shop-item-image' src=${item.image_url} height=200 />
                        <div class="add-to-cart btn-floating halfway-fab waves-effect waves-light red" style=" bottom: -20px;"><i class="material-icons shop-item-button">add</i></div>
                        </div>
                        <div class="card-content">
                        <div class='row title-row'>
                        <div class="col s12">
                        <span class="card-title">${item.item_name} - $${item.price}</span>
                        </div>
                        </div>
                        <p class="ingredients">${item.ingredients}</p>
                        </div>
                       <img src="https://image.shutterstock.com/image-vector/4-star-rating-bar-260nw-1071196463.jpg" class="star">
                       </div>
                       </div>
             
                    `;
                            ul.append(li);

                            break;
                        case 'entrees':
                            const ule = document.querySelector('#entree-items');
                            const lie = document.createElement('div');
                            lie.className += "col s10 m4"
                            lie.innerHTML = `
                      

             
        
          <div class="card card-full">
            <div class="card-image">
                <img class='shop-item-image' src=${item.image_url} height=200 />
              <div class="add-to-cart btn-floating halfway-fab waves-effect waves-light red"><i class="material-icons shop-item-button">add</i></div>
            </div>
            <div class="card-content">
                <div class='row title-row'>
                    <div class="col s12">
                        <span class="card-title">${item.item_name} - $${item.price}</span>
                    </div>

                </div>

                <p class="ingredients">${item.ingredients}</p>
            </div>
            <img src="https://image.shutterstock.com/image-vector/4-star-rating-bar-260nw-1071196463.jpg" class="star">
          </div>
        </div>
             
                    `;
                            ule.append(lie);

                            break;
                        case 'sides':
                            const uls = document.querySelector('#sides-items');
                            const lis = document.createElement('div');
                            lis.className += "col s10 m4"
                            lis.innerHTML = `
                      

             
      
          <div class="card card-full">
            <div class="card-image">
                <img class='shop-item-image' src=${item.image_url} height=200>
              <div class="add-to-cart btn-floating halfway-fab waves-effect waves-light red"><i class="material-icons shop-item-button">add</i></div>
            </div>
            <div class="card-content">
                <div class='row title-row'>
                    <div class="col s12">
                        <span class="card-title">${item.item_name} - $${item.price}</span>
                    </div>

                </div>

                <p class="ingredients">${item.ingredients}</p>
            </div>
            <img src="https://image.shutterstock.com/image-vector/4-star-rating-bar-260nw-1071196463.jpg" class="star">
          </div>
        </div>
             
                    `;
                            uls.append(lis);

                            break;
                        case 'deserts':
                            const uld = document.querySelector('#dessert-items');
                            const lid = document.createElement('div');
                            lid.className += "col s10 m4"
                            lid.innerHTML = `
                      

             
      
          <div class="card card-full">
            <div class="card-image">
                <img class='shop-item-image' src=${item.image_url} height=200 />
              <div class="add-to-cart btn-floating halfway-fab waves-effect waves-light red" ><i class="material-icons shop-item-button">add</i></div>
            </div>
            <div class="card-content">
                <div class='row title-row'>
                    <div class="col s12">
                        <span class="card-title">${item.item_name} - $${item.price}</span>
                    </div>

                </div>

                <p class="ingredients">${item.ingredients}</p>
            </div>
            <img src="https://image.shutterstock.com/image-vector/4-star-rating-bar-260nw-1071196463.jpg" class="star">
          </div>
        </div>
             
                    `;
                            uld.append(lid);

                            break;
                        case 'beverages':
                            const ulb = document.querySelector('#beverages-items');
                            const lib = document.createElement('div');
                            lib.className += "col s10 m4"
                            lib.innerHTML = `        
          <div class="card card-full">
            <div class="card-image">
                <img class='shop-item-image' src=${item.image_url} height=200 />
              <div class="add-to-cart btn-floating halfway-fab waves-effect waves-light red"><i class="material-icons shop-item-button">add</i></div>
            </div>
            <div class="card-content">
                <div class='row title-row'>
                    <div class="col s12">
                        <span class="card-title">${item.item_name} - $${item.price}</span>
                    </div>

                </div>

                <p class="ingredients">${item.ingredients}</p>
            </div>
            <img src="https://image.shutterstock.com/image-vector/4-star-rating-bar-260nw-1071196463.jpg" class="star">
          </div>
        </div>
             
                    `;
                            ulb.append(lib);

                            break;
                        default:
                            console.log("error");
                    }

                    console.log('ccccc', document.querySelectorAll('.add-to-cart').values)
                    //                   document.getElementsByClassName('shop-item-button').addEventListener('click', function () {
                    //                        addToCartClicked();
                    //  });
                    // document.getElementsByClassName('shop-item-button').addEventListener('click', addToCartClicked);
                });

                var addToCartButtons = document.getElementsByClassName('shop-item-button')
                console.log(addToCartButtons);
                for (var i = 0; i < addToCartButtons.length; i++) {
                    var button = addToCartButtons[i]
                    button.addEventListener('click', addToCartClicked)
                    console.log(button)
                }
            }).catch(err => console.log('errr occured', err));
        }).catch(err => console.log('errr occured222', err))
    } else {
    }

</script>
<script type="text/javascript" src="./assets/js/order.js"></script>

</html>